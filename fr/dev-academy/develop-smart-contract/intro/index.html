<!doctype html>
<html class="docs-version-current" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="CosmWasm Documentation" href="/fr/opensearch.xml"><title data-react-helmet="true">Anatomie d&#x27;un contrat intelligent | CosmWasm Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.cosmwasm.com/fr/dev-academy/develop-smart-contract/intro"><meta data-react-helmet="true" name="docsearch:language" content="fr"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-dev-academy-current"><meta data-react-helmet="true" property="og:title" content="Anatomie d&#x27;un contrat intelligent | CosmWasm Documentation"><meta data-react-helmet="true" name="description" content="Un contrat intelligent peut Ãªtre considÃ©rÃ© comme une instance d&#x27;un objet singleton dont l&#x27;Ã©tat interne est conservÃ© sur la blockchain . Les utilisateurs peuvent dÃ©clencher des changements d&#x27;Ã©tat en lui envoyant des messages JSON, et les utilisateurs peuvent Ã©galement interroger son Ã©tat en envoyant Ã  une requÃªte formatÃ©e comme un message JSON."><meta data-react-helmet="true" property="og:description" content="Un contrat intelligent peut Ãªtre considÃ©rÃ© comme une instance d&#x27;un objet singleton dont l&#x27;Ã©tat interne est conservÃ© sur la blockchain . Les utilisateurs peuvent dÃ©clencher des changements d&#x27;Ã©tat en lui envoyant des messages JSON, et les utilisateurs peuvent Ã©galement interroger son Ã©tat en envoyant Ã  une requÃªte formatÃ©e comme un message JSON."><link data-react-helmet="true" rel="shortcut icon" href="/fr/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.cosmwasm.com/fr/dev-academy/develop-smart-contract/intro"><link data-react-helmet="true" rel="alternate" href="https://docs.cosmwasm.com/dev-academy/develop-smart-contract/intro" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.cosmwasm.com/fr/dev-academy/develop-smart-contract/intro" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://docs.cosmwasm.com/dev-academy/develop-smart-contract/intro" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/fr/assets/css/styles.561bf0c2.css">
<link rel="preload" href="/fr/assets/js/runtime~main.8c3a666e.js" as="script">
<link rel="preload" href="/fr/assets/js/main.0421f823.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.cosmwasm.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/fr/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/fr/img/logo_dark.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/fr/docs/0.16/">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/fr/dev-academy/intro">Dev Academy</a></li><li><a class="dropdown__link" href="/fr/tutorials/hijack-escrow/intro">Tutorials</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">dApps</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/fr/cw-plus/0.9.0/overview">cw-plus</a></li></ul></div><a class="navbar__item navbar__link" href="/fr/ecosystem/overview">Ecosystem</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>franÃ§ais</span></span></a><ul class="dropdown__menu"><li><a href="/dev-academy/develop-smart-contract/intro" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/fr/dev-academy/develop-smart-contract/intro" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">franÃ§ais</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a href="https://docs.cosmwasm.com/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_3h0W"><img src="/fr/img/logo.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/fr/img/logo_dark.svg" alt="CosmWasm" class="themedImage_1VuW themedImage--dark_hz6m"></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/fr/dev-academy/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basics</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Smart Contract Interaction</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Capture the Flag Riddlethon</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Develop Smart Contract</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fr/dev-academy/develop-smart-contract/intro">Anatomie d&#x27;un contrat intelligent</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/fr/dev-academy/develop-smart-contract/develop">DÃ©velopper le contrat</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">DAO And Governance</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Anatomie d&#x27;un contrat intelligent</h1></header><p>Un contrat intelligent peut Ãªtre considÃ©rÃ© comme une instance d&#x27;un objet singleton dont l&#x27;Ã©tat interne est conservÃ© sur la blockchain . Les utilisateurs peuvent dÃ©clencher des changements d&#x27;Ã©tat en lui envoyant des messages JSON, et les utilisateurs peuvent Ã©galement interroger son Ã©tat en envoyant Ã  une requÃªte formatÃ©e comme un message JSON.</p><p>En tant que rÃ©dacteur de contrat intelligent, votre travail consiste Ã  dÃ©finir 3 fonctions qui dÃ©finissent l&#x27;interface de votre contrat intelligent :</p><ul><li><code>instantiate()</code>: un constructeur qui est appelÃ© pendant l&#x27;instanciation du contrat pour fournir l&#x27;Ã©tat initial</li><li><code>execute()</code>: est appelÃ© lorsqu&#x27;un utilisateur veut invoquer une mÃ©thode sur le smart contract</li><li><code>query()</code>: est appelÃ© lorsqu&#x27;un utilisateur veut obtenir des donnÃ©es d&#x27;un contrat intelligent.</li></ul><p>Dans cette section, nous allons dÃ©finir nos messages attendus et leur mise en Å“uvre.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="commencez-par-un-modÃ¨le"></a>Commencez par un modÃ¨le<a class="hash-link" href="#commencez-par-un-modÃ¨le" title="Direct link to heading">#</a></h2><p>Dans votre rÃ©pertoire de travail, vous voudrez utiliser <code>cargo-generate</code> pour dÃ©marrer votre contrat intelligent avec la structure du dossier et les options de construction recommandÃ©es :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># install cargo-generate</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo install cargo-generate --features vendored-openssl</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo generate --git https://github.com/CosmWasm/cosmwasm-template.git --name my-first-contract</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd my-first-contract</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Cela vous aidera Ã  dÃ©marrer en fournissant le modÃ¨le de base et la structure d&#x27;un contrat intelligent. <code>Vous trouverez dans le fichier
src/lib.rs</code> que les points d&#x27;entrÃ©e standard de CosmWasm <code>instantiate()</code>, <code>execute()</code>, et <code>query()</code> sont correctement exposÃ©s et connectÃ©s.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="Ã©tat-du-contrat"></a>Ã‰tat du contrat<a class="hash-link" href="#Ã©tat-du-contrat" title="Direct link to heading">#</a></h2><p>Le modÃ¨le de dÃ©part a l&#x27;Ã©tat de base suivant :</p><ul><li>une structure singleton <code>Ã‰tat</code> contenant :<ul><li>un nombre entier de 32 bits ``</li><li>une adresse <code>propriÃ©taire</code></li></ul></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/state.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use schemars::JsonSchema ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use serde: :{Deserialize, Serialize};</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use cosmwasm_std: :{CanonicalAddr, Storage};</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use cosmwasm_storage::{singleton, singleton_read, ReadonlySingleton, Singleton} ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub struct State {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pub count : i32,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pub owner : Addr,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Les contrats intelligents ont la possibilitÃ© de conserver un Ã©tat persistant grÃ¢ce au systÃ¨me natif LevelDB, un magasin clÃ©-valeur basÃ© sur des octets . Ainsi, toute donnÃ©e que vous souhaitez conserver doit se voir attribuer une clÃ© unique Ã  partir de laquelle les donnÃ©es peuvent Ãªtre indexÃ©es et rÃ©cupÃ©rÃ©es ultÃ©rieurement Ã  l&#x27;adresse .</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/state.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub const STATE : Item&lt;State&gt; = Item::new(&quot;state&quot;) ;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Dans l&#x27;exemple ci-dessus, la clÃ© <code>&quot;state&quot;</code> est utilisÃ©e comme prÃ©fixe.</p><p>Les donnÃ©es ne peuvent Ãªtre conservÃ©es que sous forme d&#x27;octets bruts, de sorte que toute notion de structure ou de type de donnÃ©es doit Ãªtre exprimÃ©e sous la forme d&#x27;une paire de fonctions de sÃ©rialisation et de dÃ©sÃ©rialisation . Par exemple, les objets doivent Ãªtre stockÃ©s sous forme d&#x27;octets. Vous devez donc fournir Ã  la fois la fonction qui code l&#x27;objet en octets pour l&#x27;enregistrer sur la blockchain, et la fonction qui dÃ©code les octets en types de donnÃ©es que votre logique de contrat peut comprendre. Le choix de la reprÃ©sentation des octets vous appartient, pour autant que fournisse une correspondance propre et bidirectionnelle.</p><p>Heureusement, l&#x27;Ã©quipe CosmWasm a fourni des crates utilitaires tels que <a href="https://github.com/CosmWasm/cosmwasm/tree/main/packages/storage" target="_blank" rel="noopener noreferrer">cosmwasm_storage</a>, qui fournit des abstractions de haut niveau pratiques pour les conteneurs de donnÃ©es tels qu&#x27;un &quot;singleton&quot; et un &quot;bucket&quot;, qui fournissent automatiquement la sÃ©rialisation et la dÃ©sÃ©rialisation pour les types couramment utilisÃ©s tels que les structs et les nombres Rust.</p><p>Remarquez comment la structure <code>State</code> contient Ã  la fois <code>count</code> et <code>owner</code>. En outre, l&#x27;attribut <code>derive</code> est appliquÃ© pour auto-implÃ©menter certains traits utiles :</p><ul><li><code>Serialize</code>: fournit la sÃ©rialisation</li><li><code>: dÃ©sÃ©rialise</code>: fournit une dÃ©sÃ©rialisation</li><li><code>Clone</code>: rend notre structure copiable</li><li><code>Debug</code>: permet d&#x27;imprimer notre structure sur une chaÃ®ne de caractÃ¨res.</li><li><code>PartialEq</code>: nous donne une comparaison d&#x27;Ã©galitÃ©</li><li><code>JsonSchema</code>: gÃ©nÃ¨re automatiquement un schÃ©ma JSON pour nous</li></ul><p><code>Addr</code> qui reprÃ©sente une adresse Bech32 lisible par l&#x27;homme, prÃ©fixÃ©e par <code>wasm...</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="instantiatemsg"></a>InstantiateMsg<a class="hash-link" href="#instantiatemsg" title="Direct link to heading">#</a></h2><p>Le <code>InstantiateMsg</code> est fourni lorsqu&#x27;un utilisateur crÃ©e un contrat sur la blockchain par le biais d&#x27;un <code>MsgInstantiateContract</code>. Ce site fournit au contrat sa configuration ainsi que son Ã©tat initial.</p><p>Sur le CosmWasm, le tÃ©lÃ©chargement du code d&#x27;un contrat et l&#x27;instanciation d&#x27;un contrat sont considÃ©rÃ©s comme des Ã©vÃ©nements distincts , contrairement Ã  Ethereum. Il s&#x27;agit de permettre Ã  un petit ensemble d&#x27;archÃ©types de contrats validÃ©s d&#x27;exister en tant que instances multiples partageant le mÃªme code de base mais configurÃ©es avec des paramÃ¨tres diffÃ©rents (imaginez un ERC20 canonique, et plusieurs jetons qui utilisent son code).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="exemple"></a>Exemple<a class="hash-link" href="#exemple" title="Direct link to heading">#</a></h3><p>Pour notre contrat, nous attendons du crÃ©ateur du contrat qu&#x27;il fournisse l&#x27;Ã©tat initial dans un message JSON :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;count&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="dÃ©finition-du-message"></a>DÃ©finition du message<a class="hash-link" href="#dÃ©finition-du-message" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/msg.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use schemars::JsonSchema ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use serde: :{Deserialize, Serialize};</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub struct InstantiateMsg {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pub count : i32,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="logique"></a>Logique<a class="hash-link" href="#logique" title="Direct link to heading">#</a></h3><p>Nous dÃ©finissons ici notre premier point d&#x27;entrÃ©e, la fonction <code>instantiate()</code>, oÃ¹ le contrat est instanciÃ© et reÃ§oit son message <code>InstantiateMsg</code>. Nous extrayons le compte du message et Ã©tablissons notre Ã©tat initial, oÃ¹ :</p><ul><li><code>compte</code> se voit attribuer le compte du message</li><li><code>propriÃ©taire</code> est attribuÃ© Ã  l&#x27;expÃ©diteur du MsgInstantiateContract ``</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/contract.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[cfg_attr(not(feature = &quot;library&quot;), entry_point)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn instantiate(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  deps : DepsMut,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  _env : Env,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  info : MessageInfo,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg : InstantiateMsg,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Response, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let state = State {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    count : msg.count,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    owner : info.sender.clone(),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  set_contract_version(deps.storage, CONTRACT_NAME, CONTRACT_VERSION)? ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STATE.save(deps.storage, &amp;state)? ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok(Response::new()</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .add_attribute(&quot;method&quot;, &quot;instantiate&quot;)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .add_attribute(&quot;owner&quot;, info.sender)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .add_attribute(&quot;count&quot;, msg.count.to_string()))</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="executemsg"></a>ExecuteMsg<a class="hash-link" href="#executemsg" title="Direct link to heading">#</a></h2><p>Le fichier <code>ExecuteMsg</code> est un message JSON transmis Ã  la fonction <code>execute()</code> par l&#x27;intermÃ©diaire d&#x27;un contrat <code>MsgExecuteContract</code>. Contrairement au message <code>InstantiateMsg</code> , le message <code>ExecuteMsg</code> peut exister sous plusieurs types de messages diffÃ©rents, afin de tenir compte des diffÃ©rents types de fonctions qu&#x27;un contrat intelligent peut exposer Ã  un utilisateur. La fonction execute() `` dÃ©multiplexe ces diffÃ©rents types de messages vers sa logique de traitement des messages appropriÃ©e.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="exemple-1"></a>Exemple<a class="hash-link" href="#exemple-1" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="incrÃ©menter"></a>IncrÃ©menter<a class="hash-link" href="#incrÃ©menter" title="Direct link to heading">#</a></h4><p>Tout utilisateur peut incrÃ©menter le compte actuel par 1.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;incrÃ©ment&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="rÃ©initialiser"></a>RÃ©initialiser<a class="hash-link" href="#rÃ©initialiser" title="Direct link to heading">#</a></h4><p>Seul le propriÃ©taire peut remettre le compte Ã  un nombre spÃ©cifique.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;reset&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;count&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="dÃ©finition-du-message-1"></a>DÃ©finition du message<a class="hash-link" href="#dÃ©finition-du-message-1" title="Direct link to heading">#</a></h3><p>Comme pour notre <code>ExecuteMsg</code>, nous utiliserons un enum `<code>pour multiplexer les diffÃ©rents types de messages que notre contrat peut comprendre . L&#x27;attribut</code>serde<code>rÃ©Ã©crit nos clÃ©s d&#x27;attribut en majuscules et en minuscules, de sorte que nous aurons</code>increment<code>et</code>reset<code>au lieu de</code>increment<code>et</code>reset` lors de la sÃ©rialisation et de la dÃ©sÃ©rialisation Ã  travers JSON.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/msg.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[serde(rename_all = &quot;snake_case&quot;)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub enum ExecuteMsg {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Increment {},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Reset { count: i32 },</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="logique-1"></a>Logique<a class="hash-link" href="#logique-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/contract.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[cfg_attr(not(feature = &quot;library&quot;), entry_point)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn execute(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  deps : DepsMut,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  _env : Env,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  info : MessageInfo,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  msg : ExecuteMsg,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; Result&lt;Response, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  match msg {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ExecuteMsg::Increment {} =&gt; try_increment(deps),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ExecuteMsg::Reset { count } =&gt; try_reset(deps, info, count),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Il s&#x27;agit de notre mÃ©thode <code>execute()</code> , qui utilise la correspondance de motifs de Rust pour acheminer le message reÃ§u <code>ExecuteMsg</code> vers la logique de traitement appropriÃ©e , en envoyant un appel <code>try_increment()</code> ou <code>try_reset()</code> en fonction du message reÃ§u.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn try_increment(deps : DepsMut) -&gt; Result&lt;Response, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STATE.update(deps.storage, |mut state| -&gt; Result&lt;_, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    state.count = 1 ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(state)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })? ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok(Response::new().add_attribute(&quot;method&quot;, &quot;try_increment&quot;))</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Il est assez simple de suivre la logique de <code>try_increment()</code>. Nous acquÃ©rons une rÃ©fÃ©rence mutable au stockage pour mettre Ã  jour l&#x27;Ã©lÃ©ment situÃ© Ã  la clÃ© <code>&quot;state&quot;</code>, rendue accessible par la fonction de commoditÃ© <code>STATE</code> dÃ©finie dans le fichier <code>src/state.rs</code>. Nous mettons ensuite Ã  jour le compte de l&#x27;Ã©tat actuel en renvoyant un rÃ©sultat <code>Ok</code> avec le nouvel Ã©tat. Enfin, nous terminons l&#x27;exÃ©cution du contrat avec un accusÃ© de rÃ©ception en renvoyant un rÃ©sultat <code>Ok</code> avec la rÃ©ponse par dÃ©faut ``.</p><p>Dans cet exemple, la rÃ©ponse par dÃ©faut <code>Response</code> est utilisÃ©e pour des raisons de simplicitÃ©. Toutefois, la rÃ©ponse `` peut Ãªtre crÃ©Ã©e manuellement pour fournir les informations suivantes :</p><ul><li><code>messages</code>: une liste de messages. C&#x27;est lÃ  que les contrats intelligents exÃ©cutent d&#x27;autres contrats intelligents ou utilisent des modules natifs.</li><li><code>attributs</code>: une liste de paires clÃ©-valeur pour dÃ©finir les Ã©vÃ©nements SDK Ã©mis qui peuvent Ãªtre souscrits par les clients et analysÃ©s par le bloc.</li><li><code>Ã©vÃ©nements</code>: Ã©vÃ©nements supplÃ©mentaires, personnalisÃ©s et distincts de l&#x27;Ã©vÃ©nement principal <code>wasm</code> . Le type sera prÃ©cÃ©dÃ© de <code>wasm-</code> . Explorateurs et applications pour signaler les Ã©vÃ©nements importants ou les changements d&#x27;Ã©tat survenus pendant l&#x27;exÃ©cution.</li><li><code>donnÃ©es</code>: donnÃ©es supplÃ©mentaires que le contrat renvoie au client.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/contract.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn try_reset(deps : DepsMut, info : MessageInfo, count : i32) -&gt; Result&lt;Response, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STATE.update(deps.storage, |mut state| -&gt; Result&lt;_, ContractError&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if info.sender != state.owner {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      return Err(ContractError::Unauthorized {}) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    state.count = count ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(state)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })? ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok(Response::new().add_attribute(&quot;method&quot;, &quot;reset&quot;))</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La logique de la rÃ©initialisation est trÃ¨s similaire Ã  celle de l&#x27;incrÃ©mentation, sauf que cette fois, nous vÃ©rifions d&#x27;abord que l&#x27;expÃ©diteur du message est autorisÃ© Ã  invoquer la fonction de rÃ©initialisation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="querymsg"></a>QueryMsg<a class="hash-link" href="#querymsg" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="exemple-2"></a>Exemple<a class="hash-link" href="#exemple-2" title="Direct link to heading">#</a></h3><p>Le contrat type ne prend en charge qu&#x27;un seul type de <code>QueryMsg</code>:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="balance"></a>Balance<a class="hash-link" href="#balance" title="Direct link to heading">#</a></h4><p>La demande :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;get_count&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Qui devrait revenir :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;count&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="dÃ©finition-du-message-2"></a>DÃ©finition du message<a class="hash-link" href="#dÃ©finition-du-message-2" title="Direct link to heading">#</a></h3><p>Pour prendre en charge les requÃªtes sur notre contrat de donnÃ©es, nous devons dÃ©finir Ã  la fois un format <code>QueryMsg</code> (qui reprÃ©sente les requÃªtes ), et fournir la structure du rÃ©sultat de la requÃªte -- <code>CountResponse</code> dans ce cas. Nous devons le faire parce que <code>query()</code> va renvoyer des informations Ã  l&#x27;utilisateur par le biais de JSON dans une structure et nous devons faire connaÃ®tre la forme de notre rÃ©ponse .</p><p>Ajoutez ce qui suit Ã  votre <code>src/msg.rs</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/msg.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[serde(rename_all = &quot;snake_case&quot;)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub enum QueryMsg {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // GetCount renvoie le compte actuel sous la forme d&#x27;un nombre encodÃ© en json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  GetCount {},</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Nous dÃ©finissons une structure personnalisÃ©e pour chaque rÃ©ponse Ã  une requÃªte</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub struct CountResponse {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pub count : i32,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="logique-2"></a>Logique<a class="hash-link" href="#logique-2" title="Direct link to heading">#</a></h3><p>La logique de <code>query()</code> devrait Ãªtre similaire Ã  celle de <code>execute()</code>, sauf que, puisque <code>query()</code> est appelÃ© sans que l&#x27;utilisateur final n&#x27;effectue de transaction, nous omettons l&#x27;argument <code>env</code> car il n&#x27;y a pas d&#x27;information.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// src/contract.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#[cfg_attr(not(feature = &quot;library&quot;), entry_point)]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn query(deps : Deps, _env : Env, msg : QueryMsg) -&gt; StdResult&lt;Binary&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  match msg {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    QueryMsg::GetCount {} =&gt; to_binary(&amp;query_count(deps) ?),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fn query_count(deps : Deps) -&gt; StdResult&lt;CountResponse&gt; {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let state = STATE.load(deps.storage)? ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok(CountResponse { count: state.count })</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="Ã©laboration-du-contrat"></a>Ã‰laboration du contrat<a class="hash-link" href="#Ã©laboration-du-contrat" title="Direct link to heading">#</a></h2><p>Pour construire votre contrat, exÃ©cutez la commande suivante. Cela permettra de vÃ©rifier l&#x27;existence d&#x27;Ã©ventuelles erreurs prÃ©liminaires avant d&#x27;optimiser.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo wasm</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="optimiser-votre-construction"></a>Optimiser votre construction<a class="hash-link" href="#optimiser-votre-construction" title="Direct link to heading">#</a></h3><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>NOTE Vous devez avoir installÃ© <a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker</a> pour exÃ©cuter cette commande. :::</h5></div><div class="admonition-content"><p>Vous devrez vous assurer que le binaire WASM de sortie est aussi petit que possible afin de minimiser les frais et de rester sous la limite de taille de pour la blockchain. ExÃ©cutez la commande suivante dans le rÃ©pertoire racine du dossier du projet de votre contrat intelligent Rust .</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm -v &quot;$(pwd)&quot;:/code \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --mount type=volume,source=&quot;$(basename &quot;$(pwd)&quot;)_cache&quot;,target=/code/target \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cosmwasm/rust-optimizer:0.12.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Il en rÃ©sultera une construction optimisÃ©e de <code>artifacts/my_first_contract.wasm</code> dans votre rÃ©pertoire de travail.</p><p>(Facultatif) Ajoutez la commande ci-dessus dans <code>Cargo.toml</code> pour un accÃ¨s rapide.</p><p>Cela permet d&#x27;exÃ©cuter des commandes de script personnalisÃ©es de maniÃ¨re similaire Ã  <code>package.json</code> dans l&#x27;Ã©cosystÃ¨me Node.</p><p>Installer <code>cargo-run-script</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cargo install cargo-run-script</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Ajouter le script dans <code>Cargo.toml</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly toml"><pre tabindex="0" class="prism-code language-toml codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[package.metadata.scripts]</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">optimize = &quot;&quot; &quot;docker run --rm -v &quot;$(pwd)&quot;:/code \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --mount type=volume,source=&quot;$(basename &quot;$(pwd)&quot;)_cache&quot;,target=/code/target \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cosmwasm/rust-optimizer:0.12.0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;&quot;&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ExÃ©cutez la commande :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Optimisation du script d&#x27;exÃ©cution du cargo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="schÃ©mas"></a>SchÃ©mas<a class="hash-link" href="#schÃ©mas" title="Direct link to heading">#</a></h2><p>Afin d&#x27;utiliser la gÃ©nÃ©ration automatique de schÃ©mas JSON, nous devons enregistrer chacune des structures de donnÃ©es pour lesquelles nous avons besoin de schÃ©mas .</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// examples/schema.rs</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use std ::env::current_dir ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use std ::fs::create_dir_all ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use cosmwasm_schema: :{export_schema, remove_schemas, schema_for};</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use my_first_contract ::msg::{CountResponse, ExecuteMsg, InstantiateMsg, QueryMsg} ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">use my_first_contract ::state::State ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fn main() {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let mut out_dir = current_dir().unwrap() ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  out_dir.push(&quot;schema&quot;) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  create_dir_all(&amp;out_dir).unwrap() ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  remove_schemas(&amp;out_dir).unwrap() ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  export_schema(&amp;schema_for !(InstantiateMsg), &amp;out_dir) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  export_schema(&amp;schema_for !(ExecuteMsg), &amp;out_dir) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  export_schema(&amp;schema_for !(QueryMsg), &amp;out_dir) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  export_schema(&amp;schema_for !(State), &amp;out_dir) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  export_schema(&amp;schema_for !(CountResponse), &amp;out_dir) ;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vous pouvez ensuite construire les schÃ©mas avec :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">schÃ©ma du fret</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vos schÃ©mas nouvellement gÃ©nÃ©rÃ©s devraient Ãªtre visibles dans votre rÃ©pertoire <code>schema/</code> . Voici un exemple de <code>schema/query_msg.json</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;$schema&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot; title &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;QueryMsg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;anyOf&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;required&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get_count&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;properties&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;get_count&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;object&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;additionalProperties&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vous pouvez utiliser un outil en ligne tel que <a href="https://www.jsonschemavalidator.net/" target="_blank" rel="noopener noreferrer">JSON Schema Validator</a> pour tester votre entrÃ©e par rapport au schÃ©ma JSON gÃ©nÃ©rÃ©.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/cosmwasm-docs/fr" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fr/dev-academy/capture-the-flag/hints"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Conseils</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fr/dev-academy/develop-smart-contract/develop"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DÃ©velopper le contrat Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#commencez-par-un-modÃ¨le" class="table-of-contents__link">Commencez par un modÃ¨le</a></li><li><a href="#Ã©tat-du-contrat" class="table-of-contents__link">Ã‰tat du contrat</a></li><li><a href="#instantiatemsg" class="table-of-contents__link">InstantiateMsg</a><ul><li><a href="#exemple" class="table-of-contents__link">Exemple</a></li><li><a href="#dÃ©finition-du-message" class="table-of-contents__link">DÃ©finition du message</a></li><li><a href="#logique" class="table-of-contents__link">Logique</a></li></ul></li><li><a href="#executemsg" class="table-of-contents__link">ExecuteMsg</a><ul><li><a href="#exemple-1" class="table-of-contents__link">Exemple</a></li><li><a href="#dÃ©finition-du-message-1" class="table-of-contents__link">DÃ©finition du message</a></li><li><a href="#logique-1" class="table-of-contents__link">Logique</a></li></ul></li><li><a href="#querymsg" class="table-of-contents__link">QueryMsg</a><ul><li><a href="#exemple-2" class="table-of-contents__link">Exemple</a></li><li><a href="#dÃ©finition-du-message-2" class="table-of-contents__link">DÃ©finition du message</a></li><li><a href="#logique-2" class="table-of-contents__link">Logique</a></li></ul></li><li><a href="#Ã©laboration-du-contrat" class="table-of-contents__link">Ã‰laboration du contrat</a><ul><li><a href="#optimiser-votre-construction" class="table-of-contents__link">Optimiser votre construction</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Related Documentation</div><ul class="footer__items"><li class="footer__item"><a href="https://cosmos.network/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cosmos SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://hub.cosmos.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cosmos Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docs.tendermint.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Tendermint Core<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Repositories</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>CosmWasm/cosmwasm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/CosmWasm/wasmd" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>CosmWasm/wasmd<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cosmwasm-plus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>CosmWasm/cosmwasm-plus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/CosmWasm/cawesome-wasm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>CosmWasm/cawesome-wasm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/cosmwasm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docs.cosmwasm.com/chat/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/CosmWasm" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://cosmwasm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/fr/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/fr/img/logo_stacked.png" alt="CosmWasm Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 CosmWasm</div></div></div></footer></div>
<script src="/fr/assets/js/runtime~main.8c3a666e.js"></script>
<script src="/fr/assets/js/main.0421f823.js"></script>
</body>
</html>